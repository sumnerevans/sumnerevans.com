<header>
  <div class="name-and-subtitle">
    {{ with .Site.Params.logo }}
      <a href="{{ $.Site.Home.Permalink }}" class="site-image">
        {{ $siteImage := resources.Get . }}
        <img
          {{ with $siteImage.Resize "300x webp" }}
            src="{{ .Permalink }}"
          {{ end }}
          width="150"
          height="150"
          alt="{{ $.Site.Title }}"
          srcset="
            {{ with $siteImage.Resize "150x webp" }}{{ .Permalink }}{{ end }},
            {{ with $siteImage.Resize "225x webp" }}{{ .Permalink }}{{ end }} 1.5x,
            {{ with $siteImage.Resize "300x webp" }}{{ .Permalink }}{{ end }} 2x
          "
        >
      </a>
    {{ end }}
    <div class="site-title">
      <a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a>
    </div>
    {{ with .Site.Params.Subtitle }}
      <div class="site-subtitle">{{ . }}</div>
    {{- end }}
  </div>
  <nav>
    <a href="{{ .Site.Home.Permalink }}"><b>Home</b></a>
    {{ with .Site.Menus.main }}
      {{ range . }}
        | <a href="{{ .URL | relURL }}"><b>{{ .Name }}</b></a>
      {{ end }}
    {{ end }}
    | <a id="toggle_search" href="javascript:void()"><b>Search</b></a>
  </nav>
  <div id="search-container" class="hidden">
    <form class="search" method="get">
      <input id="search-query" type="search" placeholder="Loading..." disabled="disabled">
    </form>
    <div id="search-results">
      <p class="no-results">Enter a search term above</p>
    </div>
  </div>
  {{ with resources.Get "js/search.ts" | js.Build (dict "minify" hugo.IsProduction) }}
    <script type="text/javascript">{{ .Content | safeJS }}</script>
  {{ end }}
</header>
